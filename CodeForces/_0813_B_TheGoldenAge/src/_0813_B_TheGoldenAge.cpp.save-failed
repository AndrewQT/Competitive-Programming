#include <bits/stdc++.h>

using namespace std;

long long x, y, l ,r;
set<long long> s;

int main(){
    cin >> x >> y;
    cin >> l >> r;
    int cnt = 0;
    for(long long a = 1; a <= r && a > 0; a *= x){
        for(long long b = 1; a + b <= r && b > 0 && a + b > 0; b *= y){
            if(a+b >= l){
                s.insert(a+b);
            }
        }
    }
    s.insert(l-1);
    s.insert(r+1);
    for(int i = s.begin()+1; i<s.end(); i++){

    }
}
